<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kathakali Epic Narratives</title>
<!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700&family=EB+Garamond:ital,wght@0,400..800;1,400..800&display=swap" rel="stylesheet">

  <!-- Navbar Styles -->
  <style>
    /* Google Fonts Import */
    @import url('https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;500;600&display=swap');

    /* Root Variables - Matching navbar.css exactly */
    :root {
        --nav-bg: rgba(113, 67, 17, 0.12);
        --nav-glass: rgba(255, 248, 231, 0.08);
        --nav-border: rgba(218, 165, 32, 0.25);
        --nav-text: #a99d30;
        --nav-text-light: rgba(61, 41, 20, 0.8);
        --nav-hover: #8b6a16;
        --nav-active: #B8860B;
        --nav-shadow: rgba(61, 41, 20, 0.15);
        --nav-glow: rgba(218, 165, 32, 0.3);
        --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        --transition-bounce: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    /* Floating Navbar Container */
    .floating-navbar {
  position: fixed;
  top: 15px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 1000;
  border-radius: 40px;         /* keep the rounded look */
  overflow: visible;           /* allow dropdown to overflow */
  padding: 2px;                /* acts like outer padding border */
  background: rgba(255, 215, 0, 0.15);
  
  border: 1px solid rgba(255, 215, 0, 0.25);
}


    @keyframes navbarFloat {
        0% {
            opacity: 0;
            transform: translateX(-50%) translateY(-40px) scale(0.9);
            filter: blur(8px);
        }
        100% {
            opacity: 1;
            transform: translateX(-50%) translateY(0) scale(1);
            filter: blur(0px);
        }
    }

    /* Main Navigation Container */
    .nav-container {
        display: flex;
        align-items: center;
        gap: 6px;
        padding: 4px 12px;
        background: var(--nav-bg);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border: 1px solid var(--nav-border);
        border-radius: 40px;
        box-shadow: 
            0 6px 24px var(--nav-shadow),
            inset 0 1px 0 rgba(255, 255, 255, 0.15);
        transition: var(--transition-smooth);
        position: relative;
        overflow: visible;
        min-height: 44px; 
    } 
    .nav-container::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(218, 165, 32, 0.08), transparent);
        transition: left 0.6s ease;
        border-radius: 40px; /* Match container border radius */
    }

    .floating-navbar:hover .nav-container::before {
        left: 100%;
    }

    .floating-navbar:hover .nav-container {
        border-color: var(--nav-hover);
        box-shadow: 
            0 8px 32px var(--nav-glow),
            inset 0 1px 0 rgba(255, 255, 255, 0.25);
    }

    /* Brand Logo */
    .brand-container {
        position: relative;
        margin-right: 12px;
        overflow: hidden; /* Only hide overflow for brand container */
        border-radius: 20px;
    }

    .brand-logo {
        display: flex;
        align-items: center;
        text-decoration: none;
        position: relative;
        padding: 6px 12px;
        border-radius: 20px;
        transition: var(--transition-smooth);
    }

    .brand-text {
        font-family: 'Playfair Display', serif;
        font-size: 1.4em;
        font-weight: 700;
        color: var(--nav-text);
        letter-spacing: 0.5px;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.05);
        position: relative;
        z-index: 2;
    }

    .brand-glow {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        background: radial-gradient(circle, var(--nav-glow), transparent);
        border-radius: 50%;
        transform: translate(-50%, -50%);
        transition: var(--transition-smooth);
        z-index: 1;
    }

    .brand-logo:hover .brand-glow {
        width: 100%;
        height: 100%;
    }

    .brand-logo:hover .brand-text {
        color: var(--nav-hover);
        transform: scale(1.02);
    }

    /* Navigation Links Section */
    .nav-links {
        display: flex;
        align-items: center;
        gap: 2px;
        margin-right: 12px;
    }

    /* Individual Navigation Links */
    .nav-link, .auth-link {
        display: flex;
        align-items: center;
        gap: 5px;
        padding: 7px 12px;
        color: var(--nav-text);
        text-decoration: none;
        font-family: 'Inter', sans-serif;
        font-size: 0.85rem;
        font-weight: 500;
        border-radius: 18px;
        transition: var(--transition-smooth);
        position: relative;
        overflow: hidden;
        cursor: pointer;
        border: 1px solid transparent;
        white-space: nowrap;
        min-height: 32px;
    }

    .nav-link::before, .auth-link::before {
        content: attr(data-text);
        position: absolute;
        top: -100%;
        left: 50%;
        transform: translateX(-50%);
        color: white;
        font-weight: 600;
        font-size: 0.8rem;
        opacity: 0;
        transition: var(--transition-bounce);
        white-space: nowrap;
    }

    .nav-ripple {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        background: radial-gradient(circle, var(--nav-glow), transparent);
        border-radius: 50%;
        transform: translate(-50%, -50%);
        transition: var(--transition-smooth);
        pointer-events: none;
    }

    .nav-link:hover .nav-ripple, .auth-link:hover .nav-ripple {
        width: 150%;
        height: 150%;
    }

    .nav-link:hover, .auth-link:hover {
        color: white;
        background: var(--nav-hover);
        transform: translateY(-1px) scale(1.02);
        border-color: var(--nav-active);
        box-shadow: 0 4px 16px var(--nav-glow);
    }

    .nav-link:hover::before, .auth-link:hover::before {
        top: 50%;
        transform: translate(-50%, -50%);
        opacity: 1;
    }

    .nav-link:hover .nav-text, .auth-link:hover .auth-text,
    .nav-link:hover .nav-icon, .auth-link:hover .auth-icon {
        opacity: 0;
        transform: translateY(50%);
    }

    .nav-link.active {
        background: var(--nav-active);
        color: white;
        box-shadow: 0 2px 12px var(--nav-glow);
    }

    /* Navigation Icons and Text */
    .nav-icon, .auth-icon {
        font-size: 1em;
        transition: var(--transition-smooth);
    }

    .nav-text, .auth-text {
        transition: var(--transition-smooth);
        font-weight: 500;
        font-size: 0.8rem;
    }

    /* Dropdown Styling - Fixed positioning */
    .nav-dropdown {
        position: relative;
        /* Ensure dropdown container doesn't clip */
        overflow: visible;
    }

    .dropdown-trigger {
        background: none;
        border: none;
        overflow: hidden; /* Only hide overflow for the button itself */
        border-radius: 18px;
    }

    .dropdown-arrow {
        font-size: 0.6em;
        margin-left: 3px;
        transition: var(--transition-smooth);
    }

    .nav-dropdown:hover .dropdown-arrow {
        transform: rotate(180deg);
    }

    .dropdown-panel {
        position: absolute;
        top: calc(100% + 8px); /* Reduced gap to prevent accidental hover loss */
        left: 50%;
        transform: translateX(-50%);
        background: rgba(40, 20, 0, 0.85); /* lighter and warmer tone */
  color: var(--text-light); 
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border: 1px solid var(--nav-border);
        border-radius: 12px;
        padding: 8px;
        min-width: 220px; /* Increased min-width */
        box-shadow: 
            0 20px 60px rgba(61, 41, 20, 0.2),
            0 8px 24px rgba(61, 41, 20, 0.15),
            inset 0 1px 0 rgba(255, 255, 255, 0.3);
        opacity: 0;
        visibility: hidden;
        transform: translateX(-50%) translateY(-8px) scale(0.96);
        transition: var(--transition-smooth);
        z-index: 1002; /* Higher z-index to ensure it's above everything */
        /* Critical: Ensure the dropdown itself doesn't get clipped */
        overflow: visible;
    }

    /* Add hover bridge to prevent dropdown from closing */
    .nav-dropdown::after {
        content: '';
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        height: 12px; /* Bridge the gap */
        background: transparent;
        z-index: 1001;
    }

    .nav-dropdown:hover .dropdown-panel {
        opacity: 1;
        visibility: visible;
        transform: translateX(-50%) translateY(0) scale(1);
    }

    /* Keep dropdown open when hovering the panel itself */
    .dropdown-panel:hover {
        opacity: 1;
        visibility: visible;
        transform: translateX(-50%) translateY(0) scale(1);
    }

    .dropdown-content {
        display: flex;
        flex-direction: column;
        gap: 2px;
    }

    .dropdown-item {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 10px 14px; /* Increased padding for better click area */
        color: var(--nav-text);
        text-decoration: none;
        font-family: 'Inter', sans-serif;
        font-size: 0.85rem; /* Slightly larger font */
        font-weight: 500;
        border-radius: 8px;
        transition: var(--transition-smooth);
        position: relative;
        overflow: hidden;
        white-space: nowrap;
    }

    .dropdown-item::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, var(--nav-glow), transparent);
        transition: left 0.4s ease;
    }

    .dropdown-item:hover::before {
        left: 100%;
    }

    .dropdown-item:hover {
        background: var(--nav-hover);
        color: white;
        transform: translateX(4px);
        box-shadow: 0 3px 12px var(--nav-glow);
    }

    .dropdown-icon {
        font-size: 1em;
        transition: var(--transition-smooth);
        flex-shrink: 0; /* Prevent icon from shrinking */
    }

    .dropdown-item:hover .dropdown-icon {
        transform: scale(1.15) rotate(5deg);
    }

    .dropdown-text {
        flex: 1; /* Allow text to take remaining space */
    }

    /* Authentication Section */
    .auth-section {
        display: flex;
        align-items: center;
        gap: 2px;
        padding-left: 12px;
        border-left: 1px solid var(--nav-border);
    }

    /* Special Authentication Button Styles */
    .login-btn {
        background: linear-gradient(135deg, #22C55E, #16A34A);
        color: white;
        border-color: #16A34A;
    }

    .login-btn:hover {
        background: linear-gradient(135deg, #16A34A, #15803D);
        box-shadow: 0 4px 16px rgba(34, 197, 94, 0.3);
    }

    .register-btn {
        background: linear-gradient(135deg, #3B82F6, #2563EB);
        color: white;
        border-color: #2563EB;
    }

    .register-btn:hover {
        background: linear-gradient(135deg, #2563EB, #1D4ED8);
        box-shadow: 0 4px 16px rgba(59, 130, 246, 0.3);
    }

    .logout-btn {
        background: linear-gradient(135deg, #EF4444, #DC2626);
        color: white;
        border-color: #DC2626;
    }

    .logout-btn:hover {
        background: linear-gradient(135deg, #DC2626, #B91C1C);
        box-shadow: 0 4px 16px rgba(239, 68, 68, 0.3);
    }

    .profile-btn {
        background: linear-gradient(135deg, var(--nav-hover), var(--nav-active));
        color: white;
        border-color: var(--nav-active);
    }

    .profile-btn:hover {
        background: linear-gradient(135deg, var(--nav-active), #8B7355);
        box-shadow: 0 4px 16px var(--nav-glow);
    }

    /* Mobile Toggle Button */
    .mobile-toggle {
        display: none;
        flex-direction: column;
        gap: 3px;
        background: none;
        border: none;
        cursor: pointer;
        padding: 6px;
        border-radius: 6px;
        transition: var(--transition-smooth);
    }

    .hamburger-line {
        width: 16px;
        height: 2px;
        background: var(--nav-text);
        transition: var(--transition-smooth);
        border-radius: 1px;
    }

    .mobile-toggle:hover {
        background: rgba(218, 165, 32, 0.08);
    }

    .mobile-toggle.active .hamburger-line:nth-child(1) {
        transform: rotate(45deg) translate(4px, 4px);
    }

    .mobile-toggle.active .hamburger-line:nth-child(2) {
        opacity: 0;
    }

    .mobile-toggle.active .hamburger-line:nth-child(3) {
        transform: rotate(-45deg) translate(4px, -4px);
    }

    /* Mobile Navigation Overlay */
    .mobile-nav-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(61, 41, 20, 0.96);
        backdrop-filter: blur(16px);
        z-index: 999;
        opacity: 0;
        visibility: hidden;
        transition: var(--transition-smooth);
    }

    .mobile-nav-overlay.active {
        opacity: 1;
        visibility: visible;
    }

    .mobile-nav-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100%;
        padding: 30px 20px;
        position: relative;
    }

    .mobile-close {
        position: absolute;
        top: 25px;
        right: 25px;
        background: none;
        border: none;
        color: white;
        font-size: 1.8rem;
        cursor: pointer;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: var(--transition-smooth);
    }

    .mobile-close:hover {
        background: rgba(255, 255, 255, 0.1);
        transform: scale(1.05);
    }

    .mobile-nav-links {
        display: flex;
        flex-direction: column;
        gap: 16px;
        align-items: center;
    }

    /* Responsive Design */
    @media (max-width: 1200px) {
        .nav-links {
            gap: 1px;
        }
        
        .nav-link, .auth-link {
            padding: 6px 10px;
            font-size: 0.8rem;
        }
        
        .nav-text, .auth-text {
            font-size: 0.75rem;
        }
        
        .dropdown-panel {
            min-width: 200px;
        }
    }

    @media (max-width: 1024px) {
        .nav-text, .auth-text {
            display: none;
        }
        
        .nav-link, .auth-link {
            padding: 8px;
            min-width: 36px;
            justify-content: center;
        }
        
        .brand-text {
            font-size: 1.2em;
        }
        
        .nav-container {
            padding: 6px 12px;
        }
        
        .dropdown-panel {
            min-width: 180px;
        }
    }

    @media (max-width: 768px) {
        .mobile-toggle {
            display: flex;
        }
        
        .nav-links, .auth-section {
            display: none;
        }
        
        .mobile-nav-overlay {
            display: block;
        }
        
        .nav-container {
            padding: 8px 12px;
            min-height: 40px;
        }
        
        .brand-text {
            font-size: 1.1em;
        }
    }

    @media (max-width: 480px) {
        .floating-navbar {
            top: 10px;
            left: 10px;
            right: 10px;
            transform: none;
        }
        
        .nav-container {
            margin: 0 auto;
            max-width: calc(100vw - 20px);
        }
        
        .brand-text {
            font-size: 1em;
        }
    }

    /* Scroll Effects */
    .floating-navbar.scrolled .nav-container {
        background: rgba(61, 41, 20, 0.2);
        backdrop-filter: blur(24px);
        border-color: var(--nav-hover);
        box-shadow: 
            0 6px 24px rgba(61, 41, 20, 0.25),
            inset 0 1px 0 rgba(255, 255, 255, 0.2);
    }

    /* Performance Optimizations */
    .nav-link, .auth-link, .dropdown-item, .brand-logo {
        will-change: transform, background-color, box-shadow;
    }

    /* Reduced Motion */
    @media (prefers-reduced-motion: reduce) {
        * {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
        }
    }
    :root {
            --yakshagana-gold: #E0B400; /* A vibrant gold for Yakshagana's rich costumes */
            --text-gold: #FFD700;
            --text-light: rgba(255, 248, 220, 0.9);
            --dark-background: #251005; /* Deep, earthy brown for the stage backdrop */
            --card-background: rgba(45, 20, 0, 0.7); /* Slightly lighter, semi-transparent */
            --border-gold: rgba(255, 215, 0, 0.4);
            --primary-gold: #FFD700;
        }
    body {
      margin: 0;
      font-family: 'EB Garamond', serif;
      background: linear-gradient(to bottom, #3a1f0a, #251005);
      color: var(--text-light);
      line-height: 1.6;
      overflow-x: hidden;
    }
    /* Keep all your custom Kalamkari styles as they were */
    /* ... */
    .hero {
            position: relative;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            color: var(--text-light);
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/Yakshagana_at_Dharmasthala.jpg/1280px-Yakshagana_at_Dharmasthala.jpg') no-repeat center center/cover; /* Yakshagana image */
            filter: grayscale(70%) brightness(40%); /* Desaturate and darken */
            z-index: -1;
            animation: fadeInBackground 2s ease-out;
        }

        @keyframes fadeInBackground {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .hero-content {
            max-width: 800px;
            animation: fadeIn 1.5s ease-out forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .hero h1 {
            font-family: 'Cinzel Decorative', serif;
            font-size: 4.5rem;
            color: var(--text-gold);
            margin-bottom: 20px;
            text-shadow: 4px 4px 8px rgba(0, 0, 0, 0.7);
            letter-spacing: 2px;
            animation: scaleIn 1.5s ease-out forwards;
        }

        @keyframes scaleIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .hero p {
            font-size: 1.5rem;
            color: var(--text-light);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            font-style: italic;
        }

        /* --- Section Styling --- */
        .section {
            padding: 80px 5%;
            margin-top: 0; /* No top margin as hero takes full height */
            position: relative;
            z-index: 1;
            background-color: var(--dark-background); /* Ensure consistent background */
        }

        .section h2 {
            font-family: 'Cinzel Decorative', serif;
            font-size: 3.5rem;
            color: var(--yakshagana-gold);
            text-align: center;
            margin-bottom: 60px;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.6);
            position: relative;
            padding-bottom: 15px;
            animation: slideInFromLeft 1s ease-out forwards;
            opacity: 0;
            transform: translateX(-50px);
        }

        @keyframes slideInFromLeft {
            from { opacity: 0; transform: translateX(-50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .section h2::after {
            content: '';
            display: block;
            width: 100px;
            height: 3px;
            background: linear-gradient(to right, transparent, var(--text-gold), transparent);
            margin: 15px auto 0;
            border-radius: 5px;
        }

        /* --- Detailed Story Sections --- */
        .detailed-story-section {
            max-width: 900px;
            margin: 80px auto; /* Margin between detailed stories */
            padding: 40px;
            background-color: rgba(0, 0, 0, 0.7); /* Slightly transparent background */
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.8);
            border: 1px solid var(--border-gold);
            animation: fadeIn 1s ease-out forwards;
            line-height: 1.8; /* Adjusted for better readability of detailed text */
        }

        .detailed-story-section h1 { /* Using h1 for main story title within this section */
            font-family: 'Cinzel Decorative', serif;
            font-size: 3.8rem;
            color: var(--text-gold);
            text-align: center;
            margin-bottom: 30px;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.6);
            position: relative;
            padding-bottom: 15px;
        }

        .detailed-story-section h1::after {
            content: '';
            display: block;
            width: 150px;
            height: 3px;
            background: linear-gradient(to right, transparent, var(--text-gold), transparent);
            margin: 15px auto 0;
            border-radius: 5px;
        }

        .detailed-story-section h3 { /* Using h3 for subheadings within a detailed story */
            font-family: 'EB Garamond', serif;
            font-size: 2.2rem;
            color: var(--yakshagana-gold);
            margin-top: 40px;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            border-bottom: 1px dashed rgba(255, 215, 0, 0.2);
            padding-bottom: 10px;
        }

        .detailed-story-section p {
            font-size: 1.15rem;
            margin-bottom: 1.5em;
            text-align: justify;
        }

        .detailed-story-section strong {
            color: var(--text-gold);
        }

        /* --- Footer --- */
        .footer {
            background-color: #0d0600;
            color: rgba(255, 248, 220, 0.7);
            text-align: center;
            padding: 40px 20px;
            font-size: 0.9rem;
            border-top: 1px solid rgba(255, 215, 0, 0.2);
            margin-top: 80px;
        }

        .footer p {
            margin: 0;
            padding: 5px 0;
        }

        .footer a {
            color: var(--text-gold);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer a:hover {
            color: var(--primary-gold);
            text-decoration: underline;
        }

        /* --- Button Styles --- */
.listenBtn {
    border-radius: 11.5px;
    color: rgb(167, 148, 148);
    height: 30px;
    background-color: #542424b0;
    border: solid rgba(186, 168, 173, 0.059);
    box-shadow: #d9d6d4;
    transition: transform 0.1s, box-shadow 0.1s;
    margin-bottom: 15px;
    padding: 5px 10px;
    cursor: pointer;
}

.listenBtn.pressed {
    transform: translateY(2px) scale(0.97);
    box-shadow: 0 1px 4px 0 rgba(0,0,0,0.15);
    background-color: #5a2020b0;
}

.listenBtn:hover {
   transform: translateY(-1px) scale(1.05);
   box-shadow: 0 6px 24px 0 rgba(255,255,255,0.25);
}

.listenBtn:active {
    transform: translateY(1px) scale(1);
    box-shadow: 0 2px 12px 0 rgba(255,255,255,0.25);
}

.stopBtn {
    border-radius: 11.5px;
    color: rgb(167, 148, 148);
    height: 30px;
    background-color: #542424b0;
    border: solid rgba(186, 168, 173, 0.059);
    box-shadow: #d9d6d4;
    transition: transform 0.1s, box-shadow 0.1s;
    margin-bottom: 15px;
    padding: 5px 10px;
    cursor: pointer;
}

.stopBtn.pressed {
    transform: translateY(2px) scale(0.97);
    box-shadow: 0 1px 4px 0 rgba(0,0,0,0.15);
    background-color: #5a2020b0;
}

.stopBtn:hover {
   transform: translateY(-1px) scale(1.05);
   box-shadow: 0 6px 24px 0 rgba(255,255,255,0.25);
}

.stopBtn:active {
    transform: translateY(1px) scale(1);
    box-shadow: 0 2px 12px 0 rgba(255,255,255,0.25);
}

/* --- Responsive Design --- */
        @media (max-width: 768px) {
            .nav-container {
                flex-wrap: wrap;
                justify-content: center;
                padding: 0.5rem 1rem;
                border-radius: 0; /* Keep straight corners on mobile */
            }

            .nav-btn {
                font-size: 14px;
                padding: 10px 20px;
                margin: 0 5px;
            }

            .hero h1 {
                font-size: 3rem;
            }

            .hero p {
                font-size: 1.2rem;
            }

            .section h2 {
                font-size: 2.5rem;
            }

            .detailed-story-section {
                padding: 25px;
                margin: 60px auto;
            }
            .detailed-story-section h1 {
                font-size: 3rem;
            }
            .detailed-story-section h3 {
                font-size: 1.8rem;
            }
            .detailed-story-section p {
                font-size: 1rem;
            }
        }

        @media (max-width: 480px) {
            .nav-container {
                border-radius: 0; /* Keep straight corners */
            }
            .nav-btn {
                padding: 8px 15px;
                font-size: 12px;
                margin: 0 3px;
            }
            .hero h1 {
                font-size: 2.5rem;
            }
            .hero p {
                font-size: 1rem;
            }
            .section h2 {
                font-size: 2rem;
            }
        }

        /* === NAVBAR STYLES FROM YAKSHAGANASTORY === */
        .nav-container {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 1rem 2rem;
            background: rgba(37, 16, 5, 0.95);
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 2px solid var(--yakshagana-gold);
            animation: slideDown 0.8s ease-out;
            border-radius: 0; /* Remove curves from navbar corners */
        }

        @keyframes slideDown {
            from {
                transform: translateY(-100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .nav-btn {
            background: linear-gradient(135deg, rgba(224, 180, 0, 0.1), rgba(255, 215, 0, 0.05));
            color: var(--text-gold);
            border: 1px solid rgba(224, 180, 0, 0.3);
            padding: 12px 30px;
            margin: 0 15px;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Cinzel Decorative', serif;
            font-weight: 400;
            font-size: 16px;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
            animation: navBtnFadeIn 1s ease-out forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        @keyframes navBtnFadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .nav-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.2), transparent);
            transition: left 0.5s;
        }

        .nav-btn:hover::before {
            left: 100%;
        }

        .nav-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 15px 35px rgba(224, 180, 0, 0.3);
            border-color: var(--text-gold);
            background: linear-gradient(135deg, rgba(224, 180, 0, 0.2), rgba(255, 215, 0, 0.1));
        }

        .dropdown { position: relative; display: inline-block; }
        .dropdown-toggle { cursor: pointer; }
        .dropdown-menu {
            display: none;
            position: absolute;
            background: rgba(37, 16, 5, 0.95);
            min-width: 200px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            border-radius: 15px;
            border: 1px solid rgba(224, 180, 0, 0.3);
            backdrop-filter: blur(10px);
            z-index: 1001;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            margin-top: 10px;
        }
        .dropdown:hover .dropdown-menu {
            display: block;
            animation: fadeIn 0.3s ease-out;
        }
        .dropdown-item {
            color: var(--text-light);
            padding: 12px 20px;
            text-decoration: none;
            display: block;
            font-family: 'EB Garamond', serif;
            transition: all 0.3s ease;
            border-radius: 10px;
            margin: 5px;
        }
        .dropdown-item:hover {
            background: linear-gradient(135deg, rgba(224, 180, 0, 0.2), rgba(255, 215, 0, 0.1));
            color: var(--text-gold);
            transform: translateX(5px);
        }
        .dropdown-arrow {
            margin-left: 8px;
            transition: transform 0.3s ease;
        }
        .dropdown:hover .dropdown-arrow {
            transform: rotate(180deg);
        }
</style>

<!-- Import navbar functionality from navbar.js -->
<script src="/js/navbar.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Re-initialize the navbar functionality for EJS
        if (typeof initializeNavbar === 'function') {
            initializeNavbar();
        } else {
            // Fallback inline functionality - exactly matching navbar.js
            const mobileToggle = document.getElementById('mobileToggle');
            const mobileNavOverlay = document.getElementById('mobileNavOverlay');
            const mobileClose = document.getElementById('mobileClose');
            const navbar = document.querySelector('.floating-navbar');

            // Mobile menu functionality
            function toggleMobileMenu() {
                mobileToggle?.classList.toggle('active');
                mobileNavOverlay?.classList.toggle('active');
                document.body.style.overflow = mobileNavOverlay?.classList.contains('active') ? 'hidden' : '';
            }

            mobileToggle?.addEventListener('click', toggleMobileMenu);
            mobileClose?.addEventListener('click', toggleMobileMenu);

            // Close mobile menu when clicking overlay
            mobileNavOverlay?.addEventListener('click', function(e) {
                if (e.target === mobileNavOverlay) {
                    toggleMobileMenu();
                }
            });

            // Scroll effect
            let scrollTimeout;
            window.addEventListener('scroll', function() {
                clearTimeout(scrollTimeout);
                
                if (window.scrollY > 50) {
                    navbar?.classList.add('scrolled');
                } else {
                    navbar?.classList.remove('scrolled');
                }
            });

            // Active link highlighting
            const currentPath = window.location.pathname;
            const navLinks = document.querySelectorAll('.nav-link, .auth-link');
            
            navLinks.forEach(link => {
                if (link.getAttribute('href') === currentPath) {
                    link.classList.add('active');
                }
            });

            // Ripple effect on click
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    const ripple = this.querySelector('.nav-ripple');
                    if (ripple) {
                        ripple.style.width = '200%';
                        ripple.style.height = '200%';
                        setTimeout(() => {
                            ripple.style.width = '0';
                            ripple.style.height = '0';
                        }, 250);
                    }
                });
            });

            // Enhanced dropdown functionality - Matching navbar.js exactly
            const dropdowns = document.querySelectorAll('.nav-dropdown');
            
            dropdowns.forEach(dropdown => {
                const trigger = dropdown.querySelector('.dropdown-trigger');
                const panel = dropdown.querySelector('.dropdown-panel');
                let hoverTimeout;

                if (trigger && panel) {
                    // Show dropdown on hover
                    dropdown.addEventListener('mouseenter', function() {
                        clearTimeout(hoverTimeout);
                        panel.style.opacity = '1';
                        panel.style.visibility = 'visible';
                        panel.style.transform = 'translateX(-50%) translateY(0) scale(1)';
                    });

                    // Hide dropdown when leaving both trigger and panel
                    dropdown.addEventListener('mouseleave', function() {
                        hoverTimeout = setTimeout(() => {
                            panel.style.opacity = '0';
                            panel.style.visibility = 'hidden';
                            panel.style.transform = 'translateX(-50%) translateY(-8px) scale(0.96)';
                        }, 100); // Small delay to allow moving to dropdown
                    });

                    // Keep dropdown open when hovering the panel
                    panel.addEventListener('mouseenter', function() {
                        clearTimeout(hoverTimeout);
                    });
                }
            });

            // Populate mobile navigation - Matching navbar.js implementation
            const navLinksContainer = document.querySelector('.nav-links');
            const authSection = document.querySelector('.auth-section');
            const mobileNavLinks = document.querySelector('.mobile-nav-links');

            if (navLinksContainer && authSection && mobileNavLinks) {
                const allLinks = [...navLinksContainer.children, ...authSection.children];
                
                allLinks.forEach(item => {
                    if (item.tagName === 'A' || item.classList.contains('nav-dropdown')) {
                        const mobileItem = item.cloneNode(true);
                        mobileItem.style.fontSize = '1.1rem';
                        mobileItem.style.padding = '12px 20px';
                        mobileItem.style.color = 'white';
                        mobileItem.style.borderRadius = '12px';
                        mobileItem.style.minWidth = '180px';
                        mobileItem.style.textAlign = 'center';
                        mobileItem.addEventListener('click', toggleMobileMenu);
                        mobileNavLinks.appendChild(mobileItem);
                    }
                });
            }
        }
    });
</script>

  <!-- Custom Page Styles (Kalamkari) -->
  
</head>

<body>

  <!-- NAVBAR HTML FROM navbar.ejs -->
  <nav class="floating-navbar">
    <div class="nav-container">
      <div class="brand-container">
        <a href="/" class="brand-logo">
          <span class="brand-text">RangRiti</span>
          <div class="brand-glow"></div>
        </a>
      </div>
      <div class="nav-links">
        <a href="index.html" class="nav-link" data-text="Home">
          <span class="nav-icon">🏠</span>
          <span class="nav-text">Home</span>
          <div class="nav-ripple"></div>
        </a>
        <a href="/artists" class="nav-link" data-text="Artists">
          <span class="nav-icon">👨‍🎨</span>
          <span class="nav-text">Artists</span>
          <div class="nav-ripple"></div>
        </a>
        <a href="/workshops" class="nav-link" data-text="Workshops">
          <span class="nav-icon">🎭</span>
          <span class="nav-text">Workshops</span>
          <div class="nav-ripple"></div>
        </a>
        <a href="/calendar" class="nav-link" data-text="Calendar">
          <span class="nav-icon">📅</span>
          <span class="nav-text">Calendar</span>
          <div class="nav-ripple"></div>
        </a>
        <div class="nav-dropdown">
          <button class="nav-link dropdown-trigger" data-text="Heritage">
            <span class="nav-icon">🏛️</span>
            <span class="nav-text">Heritage</span>
            <span class="dropdown-arrow">▼</span>
            <div class="nav-ripple"></div>
          </button>
          <div class="dropdown-panel">
            <div class="dropdown-content">
              <a href="/heritage/paintings" class="dropdown-item">
                <span class="dropdown-icon">🎨</span>
                <span class="dropdown-text">Traditional Painting Styles</span>
              </a>
              <a href="/heritage/textiles" class="dropdown-item">
                <span class="dropdown-icon">🪡</span>
                <span class="dropdown-text">Textile Arts and Embroidery</span>
              </a>
              <a href="/heritage/performing" class="dropdown-item">
                <span class="dropdown-icon">🪷</span>
                <span class="dropdown-text">Performing Arts</span>
              </a>
              <a href="/heritage/handicrafts" class="dropdown-item">
                <span class="dropdown-icon">🏺</span>
                <span class="dropdown-text">Handicrafts and Sculpture</span>
              </a>
            </div>
          </div>
        </div>
        <a href="/about" class="nav-link" data-text="About Us">
          <span class="nav-icon">👥</span>
          <span class="nav-text">About Us</span>
          <div class="nav-ripple"></div>
        </a>
        <a href="/connect" class="nav-link" data-text="Connect">
          <span class="nav-icon">🤝</span>
          <span class="nav-text">Connect</span>
          <div class="nav-ripple"></div>
        </a>
      </div>
      <div class="auth-section">
        <a href="/login" class="auth-link profile-btn" data-text="Profile">
          <span class="auth-icon">👤</span>
          <span class="auth-text">Profile</span>
          <div class="nav-ripple"></div>
        </a>
        <a href="/login" class="auth-link login-btn" data-text="Login">
          <span class="auth-icon">🔑</span>
          <span class="auth-text">Login</span>
          <div class="nav-ripple"></div>
        </a>
        <a href="/register" class="auth-link register-btn" data-text="Register">
          <span class="auth-icon">📝</span>
          <span class="auth-text">Register</span>
          <div class="nav-ripple"></div>
        </a>
      </div>
      <button class="mobile-toggle" id="mobileToggle">
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
      </button>
    </div>
    <div class="mobile-nav-overlay" id="mobileNavOverlay">
      <div class="mobile-nav-content">
        <button class="mobile-close" id="mobileClose">✕</button>
        <div class="mobile-nav-links"></div>
      </div>
    </div>
  </nav>
    <main>
        <section class="hero">
            <div class="hero-content">
                <h1>The Grandeur of Kathakali</h1>
                <p>Experience the vibrant narratives and captivating artistry of Kerala's majestic dance-drama.</p>
            </div>
        </section>

        <section id="detailed-stories-container" class="section">
            <h2>The Epic Narratives of Kathakali</h2>

            <div id="nalacharitam-detailed" class="detailed-story-section">
                <div style="display: flex; gap: 10px; margin-bottom: 15px;">
    <button class="listenBtn">🔊 Play story</button>
    <button class="stopBtn">⏹️ Stop</button>
</div>
                <h1>Nalacharitam</h1>
                <p><strong>Nalacharitam (The Story of Nala)</strong> is arguably the most celebrated and frequently performed Kathakali play, cherished for its profound emotional depth, poetic beauty, and intricate characterizations. Penned by Unnayi Warrier in the 17th century, this Aattakatha (Kathakali play text) spans four days of performance, each day depicting a pivotal phase of the epic love story of King Nala of Nishadha and Princess Damayanti of Vidarbha, as narrated in the Vana Parva of the Mahabharata.</p>

                <h3>The Enchanted Beginning</h3>
                <p>The play opens with King Nala, a virtuous and handsome ruler, consumed by his love for Damayanti, whom he has heard about but never met. A magical swan (Hamsam) acts as a divine messenger, conveying Nala's feelings to Damayanti and igniting a mutual affection. The Hamsam's elegant movements and eloquent gestures are highlights of the Kathakali performance, symbolizing the purity and grace of their burgeoning love.</p>

                <h3>Swayamvaram and Divine Intervention</h3>
                <p>Damayanti's father, King Bhima, announces a Swayamvaram (self-choice ceremony) for his daughter. Attracted by Damayanti's beauty and virtues, the Devas (celestial beings) Indra, Agni, Varuna, and Yama also decide to attend, disguised as Nala. This scene creates a dramatic dilemma for Damayanti, who must discern the true Nala among the divine imposters. With divine intervention (Saraswati guiding her), Damayanti successfully identifies and garlands the real Nala, leading to their joyous marriage and a period of blissful reign.</p>

                <h3>The Curse of Kali</h3>
                <p>The narrative takes a tragic turn with the envy of Kali (the personification of the Kali Yuga, not the goddess Kali), who was disappointed at not being chosen by Damayanti. Kali vows to separate Nala and Damayanti. He possesses Nala and influences his decisions, leading the king into a gambling addiction. Nala loses everything – his kingdom, wealth, and even his clothes – to his cousin Pushkara.</p>

                <h3>Separation and Suffering</h3>
                <p>Stripped of all possessions, Nala and Damayanti wander into a dense forest. In a moment of intense suffering and delusion induced by Kali, Nala abandons Damayanti while she is asleep, believing it would be easier for her to survive alone. This act marks the beginning of their prolonged and agonizing separation. Damayanti faces numerous perils: a python attack, encounters with a cruel caravan leader, and serving as a palace maid, all while retaining her unwavering devotion to Nala.</p>

                <p>Nala, too, endures immense hardships. He is bitten by a serpent, Karkotaka, who transforms him into a deformed charioteer named Bahuka. Karkotaka also implants in Nala the knowledge of controlling horses and the art of reversing the effects of poison, but also the ability to transfer Kali's influence to someone else. In his disguised form, Nala serves King Rituparna, a master of dice. This period of Nala's suffering and disguise is crucial for his eventual purification from Kali's influence.</p>

                <h3>Reunion and Resolution</h3>
                <p>Through a series of events orchestrated by the gods and Damayanti's intelligence, news of Nala's whereabouts reaches her. She devises a clever plan, announcing a second Swayamvaram, knowing that only Nala would possess the skills to arrive swiftly. Rituparna, eager to attend, relies on Bahuka's unparalleled charioteering skills. During the journey, Nala (as Bahuka) exchanges his knowledge of horses for Rituparna's mastery of dice. This exchange purges Kali's influence from Nala and transfers it to Rituparna, who is unaffected.</p>

                <p>Upon arrival, Damayanti, through discerning observation and the Hamsam's earlier words, recognizes the true Nala despite his changed form. Their emotional reunion is a pinnacle of the play, full of pathos and joy. Nala regains his original form, and with the help of Rituparna, he defeats Pushkara in a game of dice and reclaims his kingdom. The play concludes with the restoration of order, happiness, and the couple's rightful place on the throne.</p>

                <h3>Significance in Kathakali</h3>
                <p>Nalacharitam is celebrated for its deep psychological insights, particularly into human emotions like love, separation, suffering, and reunion. The characters of Nala and Damayanti are portrayed with immense nuance, offering Kathakali artists ample scope for elaborate facial expressions (mudras) and intricate dance movements. The play's musicality is also highly regarded, making it a complete artistic experience that resonates with audiences across generations.</p>
            </div>

            <div id="kalyanasougandhikam-detailed" class="detailed-story-section">
                <div style="display: flex; gap: 10px; margin-bottom: 15px;">
    <button class="listenBtn">🔊 Play story</button>
    <button class="stopBtn">⏹️ Stop</button>
</div>
                <h1>Kalyanasougandhikam</h1>
                <p><strong>Kalyanasougandhikam (The Flower of Auspicious Fragrance)</strong> is a lively and popular Kathakali play derived from the Mahabharata, focusing on the powerful Pandava prince Bhima and his humorous yet poignant quest for a rare and fragrant flower for his beloved wife, Draupadi. The play is renowned for its delightful blend of heroic valor, comedic elements, and profound spiritual lessons, especially through the interaction between Bhima and Hanuman.</p>

                <h3>Draupadi's Wish</h3>
                <p>The story begins in the Kamyaka Forest, where the Pandavas are living in exile. One day, a magnificent, fragrant lotus flower drifts into Draupadi's hands. Enchanted by its beauty and divine aroma, she expresses a desire for more such flowers, specifically the mythical "Kalyanasougandhikam" flower. Bhima, eager to fulfill his wife's wish and driven by his immense strength and devotion, sets off into the dense forest to find its source.</p>

                <h3>Encounter with Hanuman</h3>
                <p>As Bhima penetrates deeper into the forest, he encounters an old, frail monkey lying in his path, with its tail stretched across the way, obstructing his passage. This monkey is, in fact, Hanuman, Bhima's elder half-brother (both are sons of Vayu, the wind god), who has taken this form to humble Bhima's arrogance and teach him humility. Bhima, in his characteristic pride, demands that the monkey move its tail. Hanuman politely replies that he is too old and weak, suggesting Bhima move it himself.</p>

                <p>Bhima, brimming with confidence in his superhuman strength, attempts to lift the tail, but despite all his might, he cannot even budge it. This is a moment of profound realization for Bhima; he begins to suspect that this is no ordinary monkey. Humbled and respectful, he inquires about the monkey's true identity.</p>

                <h3>Hanuman's Revelation and Blessing</h3>
                <p>Upon Bhima's earnest plea, Hanuman reveals his true majestic form, expanding to colossal proportions. He then embraces Bhima, showering him with affection and blessings. Hanuman recounts their shared lineage and advises Bhima on the true nature of strength, emphasizing spiritual power over mere physical prowess. He assures Bhima that the Kalyanasougandhikam flower is indeed located nearby and guides him to its exact spot.</p>

                <h3>The Quest Fulfilled</h3>
                <p>With Hanuman's blessing and guidance, Bhima easily locates the pond teeming with the radiant Kalyanasougandhikam flowers. He gathers them and returns to Draupadi, fulfilling her desire. The play concludes with Draupadi's joy and the Pandavas' realization of the deeper spiritual significance of Bhima's journey.</p>

                <h3>Significance in Kathakali</h3>
                <p>Kalyanasougandhikam is a favored play for its diverse emotional range. It allows Kathakali artists to showcase Bhima's raw power and occasional arrogance, Hanuman's wisdom and playful nature, and the tender bond between Bhima and Draupadi. The **Hanuman-Bhima encounter** is a highlight, offering exceptional opportunities for comedic timing, physical acting, and philosophical discourse, making it a captivating experience for the audience.</p>
            </div>

            <div id="duryodhana-vadham-detailed" class="detailed-story-section">
                <div style="display: flex; gap: 10px; margin-bottom: 15px;">
    <button class="listenBtn">🔊 Play story</button>
    <button class="stopBtn">⏹️ Stop</button>
</div>
                <h1>Duryodhana Vadham</h1>
                <p><strong>Duryodhana Vadham (The Slaying of Duryodhana)</strong> is one of the most intense and dramatic Kathakali plays, drawn directly from the concluding sections of the Mahabharata. It focuses on the climactic final moments of the Kurukshetra War, particularly the mace duel between the mighty Pandava Bhima and the Kaurava king Duryodhana, culminating in Duryodhana's defeat and death. The play is a powerful exploration of themes of vengeance, justice, dharma (righteousness), and the ultimate triumph of good over evil.</p>

                <h3>The Oath and The Battlefield</h3>
                <p>The play is set on the eighteenth day of the Kurukshetra War, after most of the warriors on both sides have fallen. Bhima, in particular, is driven by a long-standing oath he made during the "Dice Game" humiliation of Draupadi: to break Duryodhana's thighs with his mace. Duryodhana, despite losing his entire army and allies, remains defiant, clinging to his pride and sense of injustice.</p>

                <h3>The Duel of Maces</h3>
                <p>The central part of the play is the fierce and prolonged mace duel between Bhima and Duryodhana. Both are exceptionally skilled mace-wielders, trained by the same guru, Balarama. Their fight is depicted with ferocious energy, powerful movements, and intense facial expressions. Duryodhana, despite being wounded and exhausted, fights with the desperation of a cornered lion, showcasing his unwavering resolve and physical prowess.</p>

                <p>According to the rules of mace fighting, striking below the navel is prohibited. However, Lord Krishna, aware of Bhima's oath and the need to fulfill it for the sake of dharma, subtly reminds Bhima of his oath by slapping his own thigh. Taking the hint, Bhima strikes Duryodhana on the thighs, a blow that is fatal. This act is controversial as it violates the rules of war but is justified by the context of Duryodhana's earlier dishonorable acts and Bhima's sacred vow.</p>

                <h3>Duryodhana's Fall and Lament</h3>
                <p>Duryodhana falls, mortally wounded. His lamentations and defiance, even in defeat, are portrayed with great pathos. He reflects on his life, his unyielding nature, and his rivalry with the Pandavas. Ashwatthama, Dronacharya's son, witnesses Duryodhana's demise and vows vengeance, leading to the infamous night raid on the Pandava camp.</p>

                <h3>The Fulfillment of Dharma</h3>
                <p>Bhima's victory marks the end of Duryodhana's tyrannical rule and the culmination of the Pandavas' quest for justice. The play vividly portrays the raw emotions of anger, determination, pride, and sorrow, bringing the epic conflict to a powerful and decisive close. The portrayal of Bhima's fury (Raudra Bhima) and Duryodhana's unwavering arrogance (Kaththi Vesham) provides immense scope for Kathakali artists to demonstrate their mastery of expressive acting and vigorous dance.</p>

                <h3>Significance in Kathakali</h3>
                <p>Duryodhana Vadham is a favorite for its dramatic intensity and the scope it offers for showcasing the **'Kaththi' (knife) character** type, representing evil and arrogance, and the **'Pacha' (green) character** type, representing virtuous heroism (Bhima). The vibrant costumes, elaborate makeup, powerful drumming, and dynamic choreography make it a truly unforgettable Kathakali experience, embodying the core conflict of the Mahabharata.</p>
            </div>

            <div id="kiratham-detailed" class="detailed-story-section">
                <div style="display: flex; gap: 10px; margin-bottom: 15px;">
    <button class="listenBtn">🔊 Play story</button>
    <button class="stopBtn">⏹️ Stop</button>
</div>
                <h1>Kiratham</h1>
                <p><strong>Kiratham (The Hunter)</strong> is a significant Kathakali play drawn from the 'Kiratarjuniya' section of the Mahabharata. It narrates the pivotal episode where the Pandava prince Arjuna performs severe penance to acquire the powerful divine weapon, the Pasupatastra, from Lord Shiva. The play is renowned for its depiction of rigorous spiritual discipline, divine testing, and a spectacular battle sequence, culminating in Shiva's benevolent revelation.</p>

                <h3>Arjuna's Penance</h3>
                <p>After the Pandavas' defeat in the dice game and their subsequent exile, Lord Krishna advises Arjuna to undertake a rigorous penance (tapasya) to propitiate Lord Shiva. The aim is to gain powerful celestial weapons necessary for their eventual war against the Kauravas. Arjuna proceeds to the Himalayas, where he commences an intense ascetic practice, standing on one leg, enduring harsh weather conditions, and meditating with unwavering focus. His devotion and severe austerities cause disturbances in the heavens.</p>

                <h3>Shiva's Test - The Hunter's Disguise</h3>
                <p>To test Arjuna's resolve and determine his true worthiness for the Pasupatastra, Lord Shiva descends to Earth disguised as a rustic hunter (Kirata) accompanied by Goddess Parvati, who appears as a huntress (Kirati), and a retinue of ganas (Shiva's attendants) disguised as hunters and huntresses.</p>

                <p>While Arjuna is in deep meditation, a wild boar (Mookasura, a demon in disguise) charges towards him. Arjuna, breaking his meditation, aims an arrow at the boar. Simultaneously, the Kirata also shoots an arrow at the same boar. Both arrows strike the target at the same moment, killing the boar.</p>

                <h3>The Dispute and Battle</h3>
                <p>A heated dispute arises between Arjuna and the Kirata over who rightfully killed the boar. The Kirata, in his disguise, provokes Arjuna with mocking words and challenges his prowess. This verbal altercation escalates into a fierce physical battle. Arjuna, renowned as an unparalleled archer, finds himself evenly matched by the formidable hunter. They engage in a prolonged and intense combat using various weapons and martial techniques.</p>

                <p>The fight sequence in Kathakali is a spectacle of elaborate choreography, vigorous movements, and intricate footwork. Arjuna's frustration mounts as he realizes the Kirata's extraordinary strength and skill. As the battle progresses, Arjuna's quiver empties, and he resorts to hand-to-hand combat. Eventually, in desperation, he even tries to use his bow as a weapon, but it shatters.</p>

                <h3>Shiva's Revelation and Blessing</h3>
                <p>Finally, realizing that only Lord Shiva himself could possess such immense power and skill, Arjuna performs a spontaneous act of worship, offering flowers to the Lingam (a symbolic representation of Shiva). To his astonishment, the flowers appear on the head of the Kirata. At this moment, the Kirata sheds his disguise and reveals his true majestic form as Lord Shiva, with Parvati by his side.</p>

                <p>Overwhelmed with awe and devotion, Arjuna prostrates before the divine couple. Shiva, pleased with Arjuna's unwavering resolve, humility, and valor, bestows upon him the **Pasupatastra**, the most powerful celestial weapon, along with the knowledge of its invocation and retraction. The play concludes with Shiva and Parvati blessing Arjuna and ascending back to their celestial abode.</p>

                <h3>Significance in Kathakali</h3>
                <p>Kiratham is highly valued for its dramatic scope and the opportunity it provides for performers to portray two powerful and contrasting characters: the disciplined and heroic **Arjuna (Pacha Vesham)** and the fierce yet playful **Kirata (Kari Vesham for the boar, and later the majestic Teppu Vesham for Shiva)**. The elaborate fight sequences, the transformation of characters, and the deep philosophical undertones make it a challenging and rewarding play for both artists and audiences.</p>
            </div>

            <div id="dakshayagam-detailed" class="detailed-story-section">
                <div style="display: flex; gap: 10px; margin-bottom: 15px;">
    <button class="listenBtn">🔊 Play story</button>
    <button class="stopBtn">⏹️ Stop</button>
</div>
                <h1>Dakshayagam</h1>
                <p><strong>Dakshayagam (The Sacrifice of Daksha)</strong> is a powerful and dramatic Kathakali play based on a pivotal narrative from the Shiva Purana and other Puranic texts. It recounts the story of Daksha Prajapati's arrogant sacrifice, the self-immolation of his daughter Sati (the first consort of Shiva), and Lord Shiva's fierce cosmic dance of destruction (Raudra Tandava) that follows, leading to the creation of the Shakti Peethas and the eventual humbling of the prideful Daksha.</p>

                <h3>Daksha's Arrogance and Sati's Devotion</h3>
                <p>Daksha Prajapati, a powerful patriarch and son of Brahma, organized a grand sacrifice (Yagna) to which he invited all the deities, sages, and celestial beings, deliberately excluding his son-in-law, Lord Shiva. Daksha held a deep disdain for Shiva's unconventional ascetic lifestyle and unorthodox appearance. His own daughter, Sati, deeply devoted to Shiva, was initially forbidden by Daksha to marry him. However, Sati chose Shiva, against her father's wishes.</p>

                <h3>Sati's Self-Immolation</h3>
                <p>Despite not being invited, Sati, drawn by her love for her family and her duty as a daughter, wished to attend her father's sacrifice. Shiva, knowing Daksha's contempt, advised her against it, but Sati insisted. Upon arriving at the Yagna, Sati was publicly insulted and humiliated by her father, who disparaged Shiva in front of all the assembled guests. Unable to bear the insult to her beloved husband and her own father's arrogance, Sati, consumed by rage and sorrow, invoked her yogic powers and immolated herself in the sacrificial fire, renouncing her mortal body.</p>

                <h3>Shiva's Raudra Tandava and Virabhadra's Fury</h3>
                <p>News of Sati's self-immolation reached Lord Shiva, who was immersed in deep meditation. Overcome with immense grief, sorrow, and cosmic rage, Shiva tore a lock of hair from his head and hurled it to the ground. From it sprang the ferocious and powerful demigods, **Virabhadra** and **Bhadrakali**. Shiva, in his terrifying form, performed the **Raudra Tandava**, the dance of cosmic destruction, shaking the very foundations of the universe.</p>

                <p>Virabhadra, commanded by Shiva, stormed Daksha's sacrifice, causing widespread chaos and destruction. He decapitated Daksha, desecrated the Yagna, and unleashed terror upon all who had attended and silently witnessed Sati's humiliation. The gods and sages, witnessing Shiva's destructive fury, pleaded for his mercy.</p>

                <h3>Restoration and Shakti Peethas</h3>
                <p>Eventually, Shiva's rage subsided. Upon the earnest prayers of the deities, he agreed to restore Daksha's life, replacing his head with that of a goat (symbolizing the animalistic pride that led to his downfall). The sacrifice was completed, and order was restored.</p>

                <p>However, Shiva, still consumed by grief, carried Sati's lifeless body and wandered aimlessly across the universe, performing the Tandava. To alleviate his suffering and restore cosmic balance, Lord Vishnu used his Sudarshana Chakra to dismember Sati's body. Wherever a piece of her body fell, a sacred **Shakti Peetha** (seat of the Divine Feminine) was established, becoming important pilgrimage sites.</p>

                <h3>Significance in Kathakali</h3>
                <p>Dakshayagam is a monumental Kathakali play, celebrated for its portrayal of intense emotions, particularly **Shiva's Tandava** (often performed with great vigor and dramatic lighting), Sati's anguish, and Daksha's arrogance. The roles of **Daksha (Kaththi Vesham)** and **Virabhadra (Chuvanna Thadi - red beard, fierce character)** provide immense scope for powerful and visually striking performances, making it a compelling and visually spectacular theatrical experience.</p>
            </div>

            <div id="subhadraharanam-detailed" class="detailed-story-section">
                <div style="display: flex; gap: 10px; margin-bottom: 15px;">
    <button class="listenBtn">🔊 Play story</button>
    <button class="stopBtn">⏹️ Stop</button>
</div>
                <h1>Subhadraharanam</h1>
                <p><strong>Subhadraharanam (The Abduction of Subhadra)</strong> is an enchanting and romantic Kathakali play that narrates the captivating story of Arjuna's clever abduction of Subhadra, Lord Krishna's sister and Balarama's half-sister. Derived from the Mahabharata, this play is characterized by its charm, wit, strategic planning, and the divine blessings that pave the way for a beautiful union. It stands apart from many Kathakali plays that focus on warfare or tragedy, offering a lighter, more joyous narrative.</p>

                <h3>Arjuna's Exile and Love for Subhadra</h3>
                <p>The play begins with Arjuna, one of the Pandava brothers, undergoing a twelve-year exile due to breaking an agreement among the Pandavas regarding Draupadi. During his travels, he reaches Dwarka, the city of Lord Krishna and Balarama. There, he beholds Subhadra, Krishna's younger sister, and is immediately captivated by her beauty and virtues. A mutual attraction blossoms between them.</p>

                <h3>Balarama's Opposition and Krishna's Counsel</h3>
                <p>While Krishna approves of the match, recognizing Arjuna's noble character and the strength of their love, Balarama, Krishna's elder brother, harbors reservations. Balarama favors his student Duryodhana for Subhadra and plans her marriage accordingly, adhering to traditional norms. Knowing Balarama's stubborn nature and his strong attachment to tradition, direct negotiation seems impossible for Arjuna.</p>

                <h3>The Abduction Strategy</h3>
                <p>Following Krishna's subtle guidance, Arjuna disguises himself as an ascetic (Sanyasi) to gain entry into Dwarka and closer proximity to Subhadra. He spends time in the palace, observing Subhadra and subtly communicating his intentions. During a festival or a ceremonial event, when Subhadra is on her way to a temple or a picnic, Arjuna, still in his ascetic disguise, suddenly sheds his robes, reveals his warrior form, and swiftly carries Subhadra away on his chariot, with her full consent and eagerness.</p>

                <h3>Balarama's Pursuit and Krishna's Mediation</h3>
                <p>Upon learning of the 'abduction,' Balarama is enraged and immediately rallies the Yadava army to pursue Arjuna. He views this as a grave insult to the Yadava clan. However, Lord Krishna intervenes, calming Balarama down. Krishna explains that Subhadra went willingly, and such an abduction is a valid form of marriage for Kshatriyas, especially when the groom is as valorous and virtuous as Arjuna. Krishna's persuasive arguments eventually convince Balarama to accept the union.</p>

                <h3>The Joyous Conclusion</h3>
                <p>The play concludes with Balarama and the Yadavas giving their full blessings to Arjuna and Subhadra. The couple is formally married with pomp and ceremony, symbolizing the acceptance of their love and the triumph of a strategic, divine plan. The joyous union of Arjuna and Subhadra is celebrated, leading to the birth of their son, Abhimanyu.</p>

                <h3>Significance in Kathakali</h3>
                <p>Subhadraharanam is cherished in Kathakali for its lighter, romantic theme, which contrasts with the often intense and tragic narratives. It allows for the portrayal of tender emotions, witty interactions (especially between Krishna and Balarama), and elegant movements. The role of **Arjuna (Pacha Vesham)** and the graceful **Subhadra (Minukku Vesham)** are central, offering opportunities for beautiful and expressive performances. Krishna's character, with his calm and strategic demeanor, also stands out, making it a delightful and aesthetically pleasing theatrical experience.</p>
            </div>

        </section>
    </main>

    <footer class="footer">
        <p>&copy; 2025 RangRiti. All rights reserved.</p>
        <p>Inspired by the rich heritage of Kerala.</p>
        <p>Contact us at <a href="mailto:rangritiSVNIT@gmail.com">rangritiSVNIT@gmail.com</a></p>
    </footer>

</body>
<script>
  let utterance; // make it global so we can pause/resume it

  // Individual story TTS function
  function speakIndividualStory(storySection) {
    speechSynthesis.cancel();

    const title = storySection.querySelector("h1")?.innerText || "";
    const paragraphs = storySection.querySelectorAll("p, h3");
    let storyText = title + ". ";

    paragraphs.forEach(el => {
      storyText += el.innerText + " ";
    });

    utterance = new SpeechSynthesisUtterance(storyText);
    utterance.rate = 1;
    utterance.pitch = 1;
    utterance.volume = 1;

    const voices = speechSynthesis.getVoices();

    // Try different voice options in order of preference
    utterance.voice = 
        voices.find(v => v.name.includes('Google UK English Female')) || 
      voices[0]; // Fallback to first available

    speechSynthesis.speak(utterance);
  }

  function stopTTS() {
    speechSynthesis.cancel();
  }

  // Add event listeners when page loads
  document.addEventListener('DOMContentLoaded', function() {
    // Play button listeners
    document.querySelectorAll(".listenBtn").forEach(button => {
      button.addEventListener("click", () => {
        // Only trigger if button has play icon
        if (button.textContent.includes('🔊')) {
          // Add pressed effect
          button.classList.add('pressed');
          setTimeout(() => button.classList.remove('pressed'), 200);

          // Find the nearest parent div with the class 'detailed-story-section'
          const storySection = button.closest(".detailed-story-section");
          if (!storySection) {
            alert("Story section not found!");
            return;
          }

          // Speak only this individual story
          speakIndividualStory(storySection);
        }
      });
    });

    // Stop button listeners
    document.querySelectorAll(".stopBtn").forEach(button => {
      button.addEventListener("click", () => {
        // Add pressed effect
        button.classList.add('pressed');
        setTimeout(() => button.classList.remove('pressed'), 200);

        // Stop the speech
        stopTTS();
      });
    });
  });

  // Ensure voices are loaded
  window.speechSynthesis.onvoiceschanged = () => {};
</script>
</body>
</html>